**Алгоритм Хаффмана** (англ. ''Huffman's algorithm'') — алгоритм [[Задача_об_оптимальном_префиксном_коде_с_сохранением_порядка._Монотонность_точки_разреза | оптимального префиксного кодирования]] алфавита. Был разработан в 1952 году аспирантом Массачусетского технологического института Дэвидом Хаффманом при написании им курсовой работы. Используется во многих программах сжатия данных, например, PKZIP 2, LZH и др.

## Определение

{{Определение
|definition=
Пусть $A=\{a_{1},a_{2}, \ldots ,a_{n}\}$ — алфавит из $n$ различных символов, $W=\{w_{1},w_{2}, \ldots ,w_{n}\}$ — соответствующий ему наÐ±ор положительных целых весов. Тогда набор бинарных кодов $C=\{c_{1},c_{2}, \ldots ,c_{n}\}$, где $c_{i}$ является кодом для символа $a_{i}$, такой, что:

:* $c_{i}$ не является префиксом для $c_{j}$, при $i \ne j$

:* cумма $\sum\limits_{i \in [1, n]} w_{i}\cdot |c_{i}|$ минимальна ($|c_{i}|$ — длина кода $c_{i}$),

называется **кодом Хаффмана**.
}}

## Алгоритм построения бинарного кода Хаффмана

Построение кода Хаффмана сводится к построению соответствующего [[ Двоичная_куча | бинарного дерева]] по следующему алгоритму:

Составим [[Список | список]] кодируемых символов, при этом будем рассматривать один символ как дерево, состоящее из одного элемента c весом, равным частоте появления символа в строке.
Из списка выберем два узла с наименьшим весом.
Сформируем новый узел с весом, равным сумме весов выбранных узлов, и присоединим к нему два выбранных узла в качестве детей.
Добавим к списку только что сформированный узел вместо двух объединенных узлов.
Если в списке больше одного узла, то повторим пункты со второго по пятый.

## Время работы
Если сортировать элементы после каждого суммирования или использовать [[Приоритетные_Ð¾череди | приоритетную очередь]], то алгоритм будет работать за время $O(N \log N)$.Такую асимптотику можно [[Алгоритм_Хаффмана_за_O(n) |улучшить до $O(N)$]], используя обычные массивы.

## Пример

[[Файл:Huffman_abracadabra.jpg|400px|thumb|right|Дерево Хаффмана для слова $abracadabra$]]

Закодируем слово $abracadabra$. Тогда алфавит будет $A= \{a, b, r, c, d\} $, а набор весов (частота появления символов алфавита в кодируемом слове) $W=\{5, 2, 2, 1, 1\}$:

В дереве Хаффмана будет $5$ узлов:

{| class="wikitable"
! Узел ||  a  ||  b  ||  r  ||  с  ||  d
|-
| Вес || 5 || 2 || 2 || 1 || 1
|}

По алгоритму возьмем два символа с наимÐµньшей частотой {{asd}} это $c$ и $d$. Сформируем из них новый узел $cd$ весом $2$ и добавим его к списку узлов:

{| class="wikitable"
! Узел || a || b || r || cd
|-
| Вес || 5 || 2 || 2 || 2
|}

